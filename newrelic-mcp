#!/bin/bash

# New Relic MCP Server - Wrapper Script for Cursor
# This script acts as a bridge between Cursor and the Docker container

set -e

CONTAINER_NAME="newrelic-mcp-server"

# Check if container is running
if ! docker ps -q -f name=$CONTAINER_NAME | grep -q .; then
    echo "Error: Container $CONTAINER_NAME is not running" >&2
    echo "Start it with: ./run_mcp_docker.sh run" >&2
    exit 1
fi

# Execute MCP server in container, forwarding all stdio
exec docker exec -i $CONTAINER_NAME python /app/mcp_server.py
